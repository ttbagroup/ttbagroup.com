<!doctype html>

{% assign lang=page.lang | default: 'en' %}

<html lang="{{ lang }}" class="no-js">

	{% include head.html %}

	<script type="text/javascript">
		//shim jquery for optimization purposes
		window.$ = window.jQuery = function (x) {
			return {
				ready: function (fn) {
					window.addEventListener('jqueryReady', function (e) {
						fn.call(x, e)
					})
				},
				resize: function (fn) {
					window.addEventListener('resize', function (e) {
						fn.call(x, e)
					})
				},
				load: function (fn) {
					window.addEventListener('jqueryReady', function (e) {
						fn.call(x, e)
					})
				},
				bind: function () {planJqueryCall('bind', arguments)},
				unbind: function () {planJqueryCall('unbind', arguments)},
				on: function () {planJqueryCall('on', arguments)},
				one: function () {planJqueryCall('one', arguments)},
				off: function () {planJqueryCall('off', arguments)}
			}
		}

		//add plannable method
		var jqueryMethods = 'bind,unbind,on,one,off,focus,click,dblclick,mouseenter,mouseleave,blur,animate,css,hide,show,hover,select,get,post,ajax'.split(',')
		jqueryMethods.forEach(function (method) {
			$[method] = function () {planJqueryCall(method, arguments)}
		})

		var plannedJqueryCalls = []
		function planJqueryCall (name, args) {
			plannedJqueryCalls.push([name, args])
		}
	</script>

	<body class="page{% if page.tilda %} page--tilda{% else if page.blank %} page--blank{% else %} page--default{% endif %}">
		{% if page.blank != true %}
			{% include header.html %}
		{% endif %}

		<main class="site-content">
			{% if page.tilda == false and page.blank == false %}
			<div class="site-content-container">
				<h1>{{ page.title }}</h1>
				{{ content }}
			</div>
			{% else %}
			{{ content }}
			{% endif %}
		</main>

		{% if page.blank != true %}
			{% include footer.html %}
		{% endif %}

		{% include foot.html %}
	</body>
</html>
